<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=960, user-scalable=yes">
    <link rel="apple-touch-icon" href="assets/apple-touch-icon.png"/>
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">

    <!-- CSS_START -->
    <!-- <link type="text/css" rel="stylesheet" href="css/fonts.css"> -->
    <link type="text/css" rel="stylesheet" href="http://assets.guim.co.uk/stylesheets/38417b13b505b283b5ea4c2e85526d0b/webfonts.css">
    <link rel="stylesheet" href="css/reset.css"/>
    <link rel="stylesheet" href="assets/skins/carousel/skin.css"/>
    <link rel="stylesheet" href="css/main.css"/>
    <!-- CSS_END -->

    <!-- JS_START -->
    <script src="js/require.js"></script>
    <script src='js/libs/easyXDM.js'></script>
    <script src='js/libs/json2.js' type="text/javascript"></script>
    <script src='js/libs/jquery-1.8.1.js' type="text/javascript"></script>
    <script src='js/libs/jquery.google.spreadsheet.js' type="text/javascript"></script>
    <script src="js/libs/jquery.activity-indicator-1.0.0.js" ></script>
    <script src='js/libs/modernizr.js' type="text/javascript"></script>
    <script src='js/libs/underscore.js' type="text/javascript"></script>
    <script src='js/libs/backbone.js' type="text/javascript"></script>
    <script src='js/libs/miso.ds.deps.min.0.2.2.js' type="text/javascript"></script>
    <script src='js/libs/jquery.jcarousel.min.js' type="text/javascript"></script>

    <!--<script type="text/javascript" src="//assets.pinterest.com/js/pinit.js"></script>-->

	<script src='js/libs/TweenMax.min.js' type="text/javascript"></script>
	<script src='js/libs/easing/EasePack.min.js' type="text/javascript"></script>
	<script src='js/libs/plugins/CSSPlugin.min.js' type="text/javascript"></script>

    <script src='js/gui/core.js' type="text/javascript"></script>
    <script src='js/gui/anim.js' type="text/javascript"></script>
    <script src='js/gui/analytics.js' type="text/javascript"></script>
    <script src='js/gui/data.js' type="text/javascript"></script>
    <script src='js/gui/error.js' type="text/javascript"></script>
    <script src='js/gui/social.js' type="text/javascript"></script>
    <script src='js/gui/touch.js' type="text/javascript"></script>

	<script src='js/gui/boot.js' type="text/javascript"></script>
	<script src='js/gui/xmas/model/model.js' type="text/javascript"></script>
	<script src='js/gui/xmas/observer/observer.js' type="text/javascript"></script>
	<script src='js/gui/xmas/controller/controller.js' type="text/javascript"></script>
	<script src='js/gui/xmas/view/initLoadView.js' type="text/javascript"></script>
	<script src='js/gui/xmas/view/mainView.js' type="text/javascript"></script>
	<script src='js/gui/xmas/view/filterPanel.js' type="text/javascript"></script>
	<script src='js/gui/xmas/view/wishListBox.js' type="text/javascript"></script>
	<script src='js/gui/xmas/view/productsGridView.js' type="text/javascript"></script>
	<script src='js/gui/xmas/view/singularProductView.js' type="text/javascript"></script>

    <!-- JS_END -->

    <script>
        var XDSocket;
        var scrollPos = 0;


        // shim layer with setTimeout fallback
        window.requestAnimFrame = (function(){
            return  window.requestAnimationFrame       ||
                    window.webkitRequestAnimationFrame ||
                    window.mozRequestAnimationFrame    ||
                    function( callback ){
                        window.setTimeout(callback, 1000 / 60);
                    };
        })();



        $(document).ready(function()
        {
            jQ = $;
            gui.xmas.Boot(document.getElementById('container'));


            XDSocket = new easyXDM.Socket({
                remote: '',
                onReady:  function(){
                    XDSocket.postMessage(JSON.stringify({ height: document.body.clientHeight }));
                },
                onMessage: updateScrollData
            });

            var frameHeight = document.body.clientHeight;
            function checkFrameHeight() {
                if (frameHeight !== document.body.clientHeight) {
                    frameHeight = document.body.clientHeight;
                    XDSocket.postMessage(XDSocket.postMessage(JSON.stringify({ height: frameHeight })));
                }
                requestAnimFrame(checkFrameHeight);
            }

            requestAnimFrame(checkFrameHeight);

            function updateScrollData(msg, origin) {
                scrollPos = msg;
            }
        });
    </script>

    <link rel="shortcut icon" href="/favicon.ico">
    <title>Interactive Project Template</title>
</head>
<body>


<div class='gu-interactive' id="container">
    <!-- content goes here -->
</div>

<script src="//interactive.guim.co.uk/libs/iframe-messenger/iframeMessenger.js"></script>
<script>
    iframeMessenger.enableAutoResize();
</script>



<!-- TEMPLATES -->
<script id="productTemplate" type="text/template">
<div class='productGridItem' style='position: relative; margin: 0px; padding: 0px;'> 
    <img id='productThumb' src='<%= productImage %>' /> <div id='productTitle' style='z-index: 2;'> 
    <div class='descripAndTitleContainer'> 
        <p id='productName'><%= productTitle %></p> 
        <p id='productDescripPrice'><%= productPrice %></p> 
    </div> 
</div> 
<div id='addToWishList' style='visibility: hidden; opacity: 0;'>+ <strong>Add</strong></div> 
</script>




<script id="singularProductTemplate" type="text/template">
<div class="singularBackground"></div>
<div class="singularContent" style="left: <%=singularOffset%>;">
    <div class="singularProductLeftTop">
        <img id="backToGridBtn" src="http://interactive.guim.co.uk/next-gen/lifeandstyle/ng-interactive/2013/christmas-gift-guide-2013-presents-ideas-interactive/assets/images/closeSingularViewBtn.png" style="position: absolute;">
    </div>
    <div id="productDetailHolder">
        <div class="loadingLargeImageMsg" style="display: none;">
            <h1 style="text-align: center;">Loading...</h1>
        </div>
        <img src="<%=productImage%>" alt="<%=productTitle%> - <%=productDescription%>" style="width: 80%; height: auto; visibility: visible; display: block; opacity: 1;">
    </div>
    <div id="detailDescrip">
        <h1 style="float: left; margin-right: 10px;"><%= productTitle %></h1>
        <h1 style="float: left; font-size: 14px; font-family: Arial; margin-top: 4px;"><%=giftPrice%></h1>
        <div class="clearBoth"></div>
        <p style="margin-bottom: 25px;">
            <%=productDescription%><br><br>
            <a href="<%=productUrl%>" target="_blank" class="linkToShop">Go to shop »</a>
        </p>
        <div id="addToWishList"><%= inWishlist %></div>
        <div class="shareListHolder">
            <h2 style="float: left;">Share my list</h2>
            <div class="clearBoth"></div>
            <img src="http://interactive.guim.co.uk/next-gen/lifeandstyle/ng-interactive/2013/christmas-gift-guide-2013-presents-ideas-interactive/assets/images/fbIcon.png" class="shareIcon" id="shareIconFb">
            <img src="http://interactive.guim.co.uk/next-gen/lifeandstyle/ng-interactive/2013/christmas-gift-guide-2013-presents-ideas-interactive/assets/images/tweetIcon.png" class="shareIcon" id="shareIconTwitter">
            <img src="http://interactive.guim.co.uk/next-gen/lifeandstyle/ng-interactive/2013/christmas-gift-guide-2013-presents-ideas-interactive/assets/images/pinItIcon.png" class="shareIcon" style="width: 40px;" id="shareIconPinterest">
        </div>
        <div class="clearBoth"></div>
    </div>
    <div class="clearBoth"></div>
</div>
</script>



<script id="headerTemplate" type="text/template">
    <header>
        <div id="visualHeader">
            <div id="christmasLights"></div>
            <div id="headerTitleContainer">
                <img src="assets/images/guardianLogo.png" />
                <h1>Christmas Gift Guide</h1>
            </div>
            <div id="wishlist">
                <div id="wishlistTitle">
                    <p>My wishlist</p>
                    <div id="wishlistShareBox">
                        <div class="wishlistShareButton"></div>
                        <div class="wishlistShareButton"></div>
                        <div class="wishlistShareButton"></div>
                    </div>
                </div>
                <div id="wishlistItems">
                    <ul style="margin-left:0;"></ul>
                    <div class="wishlistNavigate" id="wishlistNavBack"></div>
                    <div class="wishlistNavigate" id="wishlistNavNext"></div>
                </div>
            </div>
        </div>
        <nav id="filters">
            <div class="styled-select">
                <select id="filterList_0">
                    <option class="filterPanalFilterBox" id="Any character type" value="Any character type">
                        <h1>Any character type</h1>
                    </option>
                    <option class="filterPanalFilterBox" id="Traditionalist" value="Traditionalist">
                        <h1>Traditionalist</h1>
                    </option>
                    <option class="filterPanalFilterBox" id="Ethical" value="Ethical">
                        <h1>Ethical</h1>
                    </option>
                    <option class="filterPanalFilterBox" id="Outdoorsy type" value="Outdoorsy type">
                        <h1>Outdoorsy type</h1>
                    </option>
                    <option class="filterPanalFilterBox" id="Design lover" value="Design lover">
                        <h1>Design lover</h1>
                    </option>
                    <option class="filterPanalFilterBox" id="Culture vulture" value="Culture vulture">
                        <h1>Culture vulture</h1>
                    </option>
                    <option class="filterPanalFilterBox" id="Foodie" value="Foodie">
                        <h1>Foodie</h1>
                    </option>
                    <option class="filterPanalFilterBox" id="Child" value="Child">
                        <h1>Child</h1>
                    </option>
                </select>
            </div>
            <div class="styled-select">
                <select id="filterList_1">
                    <option class="filterPanalFilterBox" id="Any price range" value="Any price range">
                        <h1>Any price range</h1>
                    </option>
                    <option class="filterPanalFilterBox" id="£50-100" value="£50-100">
                        <h1>£50-100</h1>
                    </option>
                    <option class="filterPanalFilterBox" id="+ £100" value="+ £100">
                        <h1>+ £100</h1>
                    </option>
                    <option class="filterPanalFilterBox" id="£10-25" value="£10-25">
                        <h1>£10-25</h1>
                    </option>
                    <option class="filterPanalFilterBox" id="£25-50" value="£25-50">
                        <h1>£25-50</h1>
                    </option>
                    <option class="filterPanalFilterBox" id="Under £10" value="Under £10">
                        <h1>Under £10</h1>
                    </option>
                </select>
            </div>
        </nav>
    </header>
</script>

</body>
</html>