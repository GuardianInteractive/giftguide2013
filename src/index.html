<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=960, user-scalable=yes">
    <link rel="apple-touch-icon" href="assets/apple-touch-icon.png"/>
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">

    <!-- CSS_START -->
    <link href="http://assets.guim.co.uk/stylesheets/9203e2890de369600f3d67477a401bd0/webfonts.css" rel="stylesheet"/>
    <link rel="stylesheet" href="css/reset.css"/>
    <link rel="stylesheet" href="assets/skins/carousel/skin.css"/>
    <link rel="stylesheet" href="css/main.css"/>
    <!-- CSS_END -->

    <!-- JS_START -->
    <script src="js/require.js"></script>
    <script src='js/libs/easyXDM.js'></script>
    <script src='js/libs/json2.js' type="text/javascript"></script>
    <script src='js/libs/jquery-1.8.1.js' type="text/javascript"></script>
    <script src='js/libs/jquery.google.spreadsheet.js' type="text/javascript"></script>
    <script src="js/libs/jquery.activity-indicator-1.0.0.js" ></script>
    <script src='js/libs/modernizr.js' type="text/javascript"></script>
    <script src='js/libs/underscore.js' type="text/javascript"></script>
    <script src='js/libs/backbone.js' type="text/javascript"></script>
    <script src='js/libs/miso.ds.deps.min.0.2.2.js' type="text/javascript"></script>
    <script src='js/libs/jquery.jcarousel.min.js' type="text/javascript"></script>

    <!--<script type="text/javascript" src="//assets.pinterest.com/js/pinit.js"></script>-->

	<script src='js/libs/TweenMax.min.js' type="text/javascript"></script>
	<script src='js/libs/easing/EasePack.min.js' type="text/javascript"></script>
	<script src='js/libs/plugins/CSSPlugin.min.js' type="text/javascript"></script>

    <script src='js/gui/core.js' type="text/javascript"></script>
    <script src='js/gui/anim.js' type="text/javascript"></script>
    <script src='js/gui/analytics.js' type="text/javascript"></script>
    <script src='js/gui/data.js' type="text/javascript"></script>
    <script src='js/gui/error.js' type="text/javascript"></script>
    <script src='js/gui/social.js' type="text/javascript"></script>
    <script src='js/gui/touch.js' type="text/javascript"></script>

	<script src='js/gui/boot.js' type="text/javascript"></script>
	<script src='js/gui/xmas/model/model.js' type="text/javascript"></script>
	<script src='js/gui/xmas/observer/observer.js' type="text/javascript"></script>
	<script src='js/gui/xmas/controller/controller.js' type="text/javascript"></script>
	<script src='js/gui/xmas/view/initLoadView.js' type="text/javascript"></script>
	<script src='js/gui/xmas/view/mainView.js' type="text/javascript"></script>
	<script src='js/gui/xmas/view/filterPanel.js' type="text/javascript"></script>
	<script src='js/gui/xmas/view/wishListBox.js' type="text/javascript"></script>
	<script src='js/gui/xmas/view/productsGridView.js' type="text/javascript"></script>
	<script src='js/gui/xmas/view/singularProductView.js' type="text/javascript"></script>

    <!-- JS_END -->

    <script>
        var XDSocket;
        var scrollPos = 0;


        // shim layer with setTimeout fallback
        window.requestAnimFrame = (function(){
            return  window.requestAnimationFrame       ||
                    window.webkitRequestAnimationFrame ||
                    window.mozRequestAnimationFrame    ||
                    function( callback ){
                        window.setTimeout(callback, 1000 / 60);
                    };
        })();



        $(document).ready(function()
        {
            jQ = $;
            gui.xmas.Boot(document.getElementById('container'));


            XDSocket = new easyXDM.Socket({
                remote: '',
                onReady:  function(){
                    XDSocket.postMessage(JSON.stringify({ height: document.body.clientHeight }));
                },
                onMessage: updateScrollData
            });

            var frameHeight = document.body.clientHeight;
            function checkFrameHeight() {
                if (frameHeight !== document.body.clientHeight) {
                    frameHeight = document.body.clientHeight;
                    XDSocket.postMessage(XDSocket.postMessage(JSON.stringify({ height: frameHeight })));
                }
                requestAnimFrame(checkFrameHeight);
            }

            requestAnimFrame(checkFrameHeight);

            function updateScrollData(msg, origin) {
                scrollPos = msg;
            }
        });
    </script>

    <link rel="shortcut icon" href="/favicon.ico">
    <title>Interactive Project Template</title>
</head>
<body>


<div class='gu-interactive' id="container">
    <!-- content goes here -->
</div>

<script src="//interactive.guim.co.uk/libs/iframe-messenger/iframeMessenger.js"></script>
<script>
    iframeMessenger.enableAutoResize();
</script>
</body>
</html>